h1 Оплата счета
div(ng-controller="InvoicePayCtrl")
  
  .alert.alert-danger(ng-show="form_error") {{ form_error }}
  .alert.alert-info(ng-show="processing") Отправляем данные
    
  form(name="form", ng-submit="submit()", novalidatem, ng-show="invoice")
    fieldset
      .form-group
        label Кому
        .form-control-static {{ invoice.owner_name }}
      .form-group
        label Сумма
        .form-control-static {{ invoice.amount }}
    fieldset
      .form-group
        label(for="card_number") Номер карты
        input.form-control(type="text", id="card_number", name="card_number", ui-mask="9999 9999 9999 9999", ng-model="card.sender_card_number", ng-required="true")
        .alert.alert-warning(ng-show="form.sender_card_number.$invalid && form.sender_card_number.$touched && !form.sender_card_number.$pristine") Укажите корректный номер карты
      .form-group
        label(for="card_exp_year") Год окончания действия
        input.form-control(type="text", ui-mask="9999" ng-model="card.sender_card_exp_year", ng-required="true")
        div.alert.alert-warning(ng-show="form.sender_card_exp_year.$invalid && form.sender_card_exp_year.$touched && !form.sender_card_exp_year.$pristine") Укажите корректный номер карты
      .form-group
        label(for="card.exp_month") Месяц окончания действия
        input.form-control(type="text", ui-mask="99", ng-model="card.sender_card_exp_month", ng-required="true")
      .form-group
        label(for="card.cvv") CVV Код
        input.form-control(type="text", ui-mask="999", ng-model="card.sender_card_cvv", ng-required="true")
      .form-group
        input(type="submit", class="btn btn-default", value="Оплатить", ng-disabled="form.$invalid || processing")
      
  form(name="form_3ds", method="POST", ng-hide="true")
    input(type="hidden", name="PaReq")
    input(type="hidden", name="MD")
    input(type="hidden", name="TermUrl")
